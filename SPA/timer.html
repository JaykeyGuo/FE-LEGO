<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Timer</title>
</head>

<body>
    <input type="text" value="00:00:00">
    <input type="button" value='开始'>
    <input type="button" value='结束'>
    <input type="button" value='重置'>
    <input type="button" value='暂停5秒'>
    <input type="button" value='延迟5秒'>
</body>

</html>

<script>
    var oText = document.getElementsByTagName('input')[0];
    var oStart = document.getElementsByTagName('input')[1];
    var oEnd = document.getElementsByTagName('input')[2];
    var oReset = document.getElementsByTagName('input')[3];
    var oTimeout = document.getElementsByTagName('input')[4];
    var oDelay = document.getElementsByTagName('input')[5];

    var n = 0;
    timer = null;
    oStart.onclick = function startstop() { //启动，停止计时的主程序
        if (state == 0) { //如果当前处于停止状态
            state = 1; //则设定当前状态为"正在计时"
            then = new Date(); //创建"then"这个日期/时间对像
            then.setTime(then.getTime() - ms); //为这个对象赋值
        } else { //否则(当前正在计时)
            state = 0; //设定状态为“停止”
            now = new Date(); //取当前事件
            ms = now.getTime() - then.getTime(); //取和开始时间的差值
            document.stpw.time.value = ms; //显示这个差值
        }
    }

    };

    oEnd.onclick = function () {
        clearInterval(timer);
    };

    oReset.onclick = function () {
        clearInterval(timer);
        oText.value = "00:00:00";
        n = 0;
    }

    oTimeout.onclick = function () {
        clearInterval(timer);
        setTimeout(() => {
            oStart.onclick();
        }, 5000);
    }

    oDelay.onclick = function () {
        clearInterval(timer);
        console.log(oText.value);
        newTime = oText.value.split(":")[0] + ":" + toDub(parseInt(oText.value.split(":")[1]) + 5) + ":" + oText.value
            .split(":")[2];
        console.log(newTime);
        setTimeout(() => {
            document.getElementsByTagName('input')[5] = newTime;
            oStart.onclick();
        }, 5000);

        var startTime = new Date();
        //运行代码
        for (let i = 0; i < 1000; i++) {
            console.log('---')
        }
        var endTime = new Date();
        var timeInterval = endTime.getTime() - startTime.getTime();
        console.log(timeInterval + "毫秒");
    }

    function toDub(n) {
        return n < 10 ? "0" + n : "" + n;
    }
</script>